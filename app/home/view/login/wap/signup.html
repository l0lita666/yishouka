     {include file="layout/wap/tou2" /}
<style>

input[type="checkbox"]:enabled:checked + .checkbox-text::before {
    border-color: #007dfe;
    background-color: #007dfe;
    box-shadow: 1px 3px 10px rgba(0,125,254,.25);
}
input[type="checkbox"]:enabled + .checkbox-text:hover{ color: #333; }
input[type="checkbox"]:enabled + .checkbox-text:hover::before{ border-color: #bbb; }
input[type="checkbox"]:enabled + .checkbox-text:hover::after{ opacity: 1; }
input[type="checkbox"]:enabled:checked + .checkbox-text{ color: #333; }
input[type="checkbox"]:enabled:checked + .checkbox-text::before{ border-color: #007dfe; background-color: #007dfe; box-shadow: 1px 3px 10px rgba(0,125,254,.25); }
input[type="checkbox"]:enabled:checked + .checkbox-text::after{ opacity: 1; border-color: #fff;}
input[type="checkbox"]:enabled:checked + .checkbox-text:hover::before{ border-color: #1789fe; background-color: #1789fe; }

input[type="checkbox"]:disabled + .checkbox-text{ cursor: default; opacity: .5;}
input[type="checkbox"]:disabled + .checkbox-text::before{ cursor: not-allowed; background-color: #f0f0f0; box-shadow: none; }
input[type="checkbox"]:disabled + .checkbox-text::after { cursor: not-allowed; }
input[type="checkbox"]:disabled:checked + .checkbox-text::before{ border-color: #ff5c38; background-color: #007dfe; opacity: .5;}
input[type="checkbox"]:disabled:checked + .checkbox-text::after { opacity: .8; border-color: #fff;}
input[type="checkbox"]:disabled + .checkbox-text::before, input[type="checkbox"]:enabled + .checkbox-text::before {
    content: "";
    position: absolute;
    top: 50%;
    left: 0;
    z-index: 2;
    width: 20px;
    height: 20px;
    margin-top: -10px;
    overflow: hidden;
    border: 2px solid #ddd;
    background-color: #fff;
    border-radius: 4px;
    transition: .3s;
    box-shadow: 1px 3px 10px rgba(200,200,200,.3);
	}
	.radio, .checkbox {
    position: relative;
    display: block;
    font-size: 14px;
    line-height: 20px;
	}
	input[type="checkbox"]:enabled,
input[type="checkbox"]:disabled{    opacity: 0;
    position: absolute;
    left: 20px;
    width: 40px;
    height: 40px;
    z-index: 999; }
input[type="checkbox"]:enabled + .checkbox-text,
input[type="checkbox"]:disabled + .checkbox-text{
    position: relative;
    display: block;
    min-height: 20px;
    line-height: 20px;
    padding-left: 25px;
    color: #666;
    cursor: pointer;
}
    input[type="checkbox"]:disabled + .checkbox-text::before,
    input[type="checkbox"]:enabled + .checkbox-text::before{
        content: "";
        position: absolute;
        top: 28%;
        left: 0;
        z-index: 2;
        width: 20px;
        height: 20px;
		margin-top: -10px;
        overflow: hidden;
        border: 2px solid #ddd;
        background-color: #fff;
        border-radius: 4px;
        transition: .3s;
        box-shadow: 1px 3px 10px rgba(200,200,200,.3); 
    }
    input[type="checkbox"]:disabled + .checkbox-text::after,
    input[type="checkbox"]:enabled + .checkbox-text::after{
        content: "";
        position: absolute;
        top: 28%;
        left: 7px;
        z-index: 3;
        width: 6px;
        height: 10px;
		margin-top: -7px;
        overflow: hidden;
        border-right: 2px solid #eee;
        border-bottom: 2px solid #eee;
        background-color: transparent;
        opacity: 0;
        transition: .3s;
        -webkit-transform: rotate(40deg);
                transform: rotate(40deg);
    }
</style>

<div class="myheader" id="myheader">
	<header class="header "><button class="btn btn-back fl" type="button" onclick="javascript:history.back(-1);"><i class="iconfont iconfont-back"></i></button><a class="btn btn-guide fl" href="{:url('home/helpfaq/index')}"><i class="iconfont iconfont-book"></i></a>
	<div class="header-title">
		<h1 class="title">注册{$C.sitename}</h1>
	</div>
	<button class="btn btn-service fr" type="button" data-toggle="matte" data-target="#service"><i class="iconfont iconfont-service"></i></button></header>
</div>
<div class="mycontent" id="mycontent">
	<div class="sign-form">
		<form action="{:request()->url()}" method="post" id="signup">
			<div class="form-error" id="sign-error">
			</div>
			<div class="form-group">
				<input type="text" class="form-control" id="username" name="username" reg="^[A-Za-z0-9_-]{6,20}$" maxlength="20" placeholder="您的帐户名和登录名" null="用户名不能为空" err="用户名格式错误" data-input="clear" tabindex="1">
				<div class="help-block">
					<p>
						字母、数字、“-”“_”的组合，6-20个字符，不支持中文
					</p>
				</div>
			</div>
			<div class="form-group">
				<input type="password" class="form-control" id="newpsw" name="newpsw" reg="^[A-Za-z0-9_-~!@#$%^&amp;*()\[\]_+-={}?,.\/]{6,20}$" maxlength="20" placeholder="请设置登录密码" null="请输入密码" data-input="clear" tabindex="2">
				<div class="security-level" id="setpass_security">
					<span class="levs"><span class="lev lev1">弱</span><span class="lev lev2">中</span><span class="lev lev3">强</span></span>
				</div>
				<div class="help-block">
					<p>
						必须使用字母、数字和符号两种及以上的组合
					</p>
				</div>
			</div>
			<div class="form-group mb15">
				<input type="password" class="form-control" id="verifypsw" name="verifypsw" placeholder="请再次输入登录密码" null="请输入确认密码" data-input="clear" tabindex="3">
			</div>
			<div class="form-group">
				<input type="tel" class="form-control" id="phoneno" name="phoneno" placeholder="请输入手机号码" reg="^1[3|4|5|6|7|8|9][0-9]{9}$" null="请输入手机号码" data-input="clear" tabindex="4">
			</div>
			<div class="form-group mb15">
			    <input type="text" class="form-control" id="regcode" name="regcode" null="请输入验证码" placeholder="请输入验证码">
			    <div class="form-action">
					<img src="{:captcha_src()}" class="verifyimg code pull-left" onclick="this.src=this.src+'?'+Math.random()" title="点击图片刷新验证码">	
				</div>
			</div>
			<div class="form-group mb15">
				<input class="form-control" id="codeno" name="codeno" type="number" placeholder="手机验证码" null="请输入手机验证码" reg="[0-9]{6}" maxlength="6" tabindex="5">
				<div class="form-action">
					<a class="text-blue" href="javascript:;" data-href="{:url('home/Api/sendMsg',['scene'=>'regcode','tip'=>'mcode'])},,top-left,post" id="mcode">获取验证码</a>
				</div>
			</div>
			
			<div class="form-group hidden" id="form-referee">
				<input type="text" class="form-control" name="referee" id="referee" value="" placeholder="请输入推广ID" data-input="clear"><input type="hidden" name="referee" value="">
			</div>
			
			<div class="form-group">
			    {:token_field()}
				<button class="btn btn-secondary" type="submit" data-form="top-left,json" name="signup" id="signupbtn">同意协议并创建帐户</button><input type="hidden" name="refer" value="">
			</div>
			<div class="sign-links">
			    <input type="checkbox"  id="agreement" >
				<span data-tip="同意才能注册" class="checkbox-text">已阅读并同意「<a class="text-blue" target="_blank" href="{:url('home/Helpfaq/agreement')}">{$C.sitename}用户服务协议</a>」和「<a class="text-blue" href="{:url('home/Helpfaq/privacy')}">隐私政策</a>」</span>
				
			</div>
			<!-- <div class="sign-other {eq name='isqq' value='0'}hidden{/eq}">
				<fieldset class="orline">
					<legend class="orline-title" align="center">其他登录方式</legend>
				</fieldset>
				<a class="btn btn-primary btn-sm btn-inline" href="javascript:;" target="_top" rel="nofollow" onclick="toQzoneLogin();"><i class="iconfont iconfont-sqq"></i> 使用QQ帐号登录</a>
			</div> -->
		</form>
	</div>
</div>
<script>
$("#agreement").click(function() {
	var a = $(this).prop("checked");
	if (a) {
		$("input[name=refer]").val(1);
	} else {
		$("input[name=refer]").val(0);
	}
});
$(function() {
	$('#newpsw').bind("input propertychange", function() {
		var strongRegex = new RegExp("^(?=.{8,})(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9])(?=.*\\W).*$", "g");
		var mediumRegex = new RegExp("^(?=.{7,})(((?=.*[A-Z])(?=.*[a-z]))|((?=.*[A-Z])(?=.*[0-9]))|((?=.*[a-z])(?=.*[0-9]))).*$", "g");
		var enoughRegex = new RegExp("(?=.{6,}).*", "g");
		if (false == enoughRegex.test($(this).val())) {
			$('#setpass_security').removeClass('security-level-weak');
			$('#setpass_security').removeClass('security-level-medium');
			$('#setpass_security').removeClass('security-level-strong'); /*密码小于六位的时候，密码强度图片都为灰色*/
		} else if (strongRegex.test($(this).val())) {
			$('#setpass_security').removeClass('security-level-weak');
			$('#setpass_security').removeClass('security-level-medium');
			$('#setpass_security').removeClass('security-level-strong');
			$('#setpass_security').addClass('security-level-strong'); /*密码为八位及以上并且字母数字特殊字符三项都包括,强度最强 */
		} else if (mediumRegex.test($(this).val())) {
			$('#setpass_security').removeClass('security-level-weak');
			$('#setpass_security').removeClass('security-level-medium');
			$('#setpass_security').removeClass('security-level-strong');
			$('#setpass_security').addClass('security-level-medium'); /*密码为七位及以上并且字母、数字、特殊字符三项中有两项，强度是中等 */
		} else {
			$('#setpass_security').show();
			$('#setpass_security').removeClass('security-level-weak');
			$('#setpass_security').removeClass('security-level-medium');
			$('#setpass_security').removeClass('security-level-strong');
			$('#setpass_security').addClass('security-level-weak'); /*如果密码为6为及以下，就算字母、数字、特殊字符三项都包括，强度也是弱的 */
		}
		return true;
	});
	$('.form-control').focus(function() {
		$(this).parent(".form-group").find('.help-block').show();
	}).blur(function() {
		$(this).parent(".form-group").find('.help-block').hide();
	});
});
</script>

</section>

<script>
  {:htmlspecialchars_decode($C['tongji'])}
  </script>
</body>
</html>