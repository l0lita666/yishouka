{include file="layout/wap/tou2" /}
<div class="myheader" id="myheader">
	<header class="header "><button class="btn btn-back fl" type="button" onclick="javascript:history.back(-1);"><i class="iconfont iconfont-back"></i></button><a class="btn btn-guide fl" href="#"><i class="iconfont iconfont-book"></i></a>
	<div class="header-title">
		<h1 class="title">修改密码</h1>
	</div>
	<button class="btn btn-service fr" type="button" data-toggle="matte" data-target="#service"><i class="iconfont iconfont-service"></i></button></header>
</div>
<div class="mycontent mycontent-hastabs" id="mycontent">
<div class="myfixed">
		<div class="tabs navbar navbar-inverse">
			<a id="setcash1" class="tab-item active" href="{:url('home/Member/password')}"><span>登陆密码</span></a>
			<a id="setcash2" class="tab-item " href="{:url('home/Member/paymentcodepin')}"><span>安全密码</span></a>
		</div>
	</div>
	<div class="sign-form">
		<form action="{:request()->url()}" method="post" id="newpass">
			<div class="form-group">
				<input class="form-control" id="oldpsw" name="oldpsw" type="password" null="请输入原登录密码" placeholder="请输入原登录密码" data-input="clear" tabindex="1"><label class="passeye" for="onoff-oldpsw"><input type="checkbox" id="onoff-oldpsw"><i class="eye"></i></label>
			</div>
			<div class="form-group">
				<input class="form-control" id="newpsw" name="newpsw" type="password" value="" reg="^[A-Za-z0-9_-~!@#$%^&amp;*()\[\]_+-={}?,.\/]{6,20}$" maxlength="20" null="请输入新的登录密码" placeholder="请输入新的登录密码" err="密码长度6~20为数组字母组合" tabindex="2" data-input="clear">
				<div class="security-level" id="setpass_security">
					<span>安全程度：</span><span class="levs"><span class="lev lev1">弱</span><span class="lev lev2">中</span><span class="lev lev3">强</span></span>
				</div>
				<label class="passeye" for="onoff-newpsw"><input type="checkbox" id="onoff-newpsw"><i class="eye"></i></label>
			</div>
			<div class="form-group">
				<input class="form-control" id="verifypsw" name="verifypsw" type="password" null="请再次输入新密码" placeholder="请再次输入新密码" value="" data-input="clear" tabindex="3"><label class="passeye" for="onoff-verifypsw"><input type="checkbox" id="onoff-verifypsw"><i class="eye"></i></label>
			</div>
			<div class="form-group">
				<input type="text" class="form-control" id="verifycode" name="verifycode" maxlength="5" null="请输入验证码" placeholder="请输入验证码" tabindex="4">
				<div class="form-action">
					<img src="{:captcha_src()}" class="verifyimg code pull-left" onclick="this.src=this.src+'?'+Math.random()" title="点击图片刷新验证码">
				</div>
			</div>
			<div class="form-tips">
				<p>
					必须使用字母、数字和符号两种及以上的组合<br>
					未注册手机号登录用户，首次修改密码时原登录密码<br>可随机填写
				</p>
			</div>
			<div class="form-group">
			   {:token_field()}
				<button class="btn btn-primary btn-block btn-circle" type="button" data-form="top-left,json" name="newpass" tabindex="5">提交修改</button>
			</div>
		</form>
	</div>
	<script>$(function() {$('#newpsw').bind("input propertychange",function(){var strongRegex = new RegExp("^(?=.{8,})(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9])(?=.*\\W).*$", "g"); var mediumRegex = new RegExp("^(?=.{7,})(((?=.*[A-Z])(?=.*[a-z]))|((?=.*[A-Z])(?=.*[0-9]))|((?=.*[a-z])(?=.*[0-9]))).*$", "g"); var enoughRegex = new RegExp("(?=.{6,}).*", "g"); if (false == enoughRegex.test($(this).val())) { $('#setpass_security').removeClass('security-level-weak'); $('#setpass_security').removeClass('security-level-medium'); $('#setpass_security').removeClass('security-level-strong'); /*密码小于六位的时候，密码强度图片都为灰色*/} else if (strongRegex.test($(this).val())) { $('#setpass_security').removeClass('security-level-weak'); $('#setpass_security').removeClass('security-level-medium'); $('#setpass_security').removeClass('security-level-strong'); $('#setpass_security').addClass('security-level-strong');  /*密码为八位及以上并且字母数字特殊字符三项都包括,强度最强 */} else if (mediumRegex.test($(this).val())) { $('#setpass_security').removeClass('security-level-weak'); $('#setpass_security').removeClass('security-level-medium'); $('#setpass_security').removeClass('security-level-strong'); $('#setpass_security').addClass('security-level-medium');  /*密码为七位及以上并且字母、数字、特殊字符三项中有两项，强度是中等 */} else { $('#setpass_security').show(); $('#setpass_security').removeClass('security-level-weak'); $('#setpass_security').removeClass('security-level-medium'); $('#setpass_security').removeClass('security-level-strong'); $('#setpass_security').addClass('security-level-weak');  /*如果密码为6为及以下，就算字母、数字、特殊字符三项都包括，强度也是弱的 */} return true; }); });</script>
</div>
</section>
<div class="tooltip" id="tooltip" style="display: none;">
	<div class="tooltip-arrow">
	</div>
	<a class="tooltip-close close" href="javascript:;">×</a>
	<div class="tooltip-inner">
	</div>
</div>
</body>